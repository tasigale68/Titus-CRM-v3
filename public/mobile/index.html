<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="theme-color" content="#0f172a">
<title>Titus CRM — Support Worker</title>
<link rel="manifest" href="/mobile/manifest.json">
<link rel="apple-touch-icon" href="/mobile/icon-192.png">
<link rel="stylesheet" href="/mobile/css/app.css">
</head>
<body>
<div id="app">
  <header id="appHeader">
    <div class="header-inner">
      <button class="header-back" id="headerBack" onclick="history.back()" style="display:none" aria-label="Go back">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2"><path d="M15 18l-6-6 6-6"/></svg>
      </button>
      <h1 class="header-title" id="headerTitle">Titus CRM</h1>
    </div>
  </header>
  <div id="offlineBanner" class="offline-banner" style="display:none">You are offline — changes will sync when reconnected</div>
  <main id="appContent" class="content"></main>
  <nav id="bottomNav" class="bottom-nav" style="display:none">
    <button class="nav-item active" data-page="home" onclick="Router.go('home')" aria-label="Home">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-4 0a1 1 0 01-1-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 01-1 1"/></svg>
      <span>Home</span>
    </button>
    <button class="nav-item" data-page="shifts" onclick="Router.go('shifts')" aria-label="Shifts">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2"/><path d="M16 2v4M8 2v4M3 10h18"/></svg>
      <span>Shifts</span>
    </button>
    <button class="nav-item" data-page="messenger" onclick="Router.go('messenger')" aria-label="Messages">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"/></svg>
      <span>Messages</span>
    </button>
    <button class="nav-item" data-page="notes" onclick="Router.go('notes')" aria-label="Notes">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><path d="M14 2v6h6M16 13H8M16 17H8M10 9H8"/></svg>
      <span>Notes</span>
    </button>
    <button class="nav-item" data-page="profile" onclick="Router.go('profile')" aria-label="Profile">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
      <span>Profile</span>
    </button>
  </nav>
</div>
<script src="/mobile/js/api.js"></script>
<script src="/mobile/js/router.js"></script>
<script src="/mobile/js/app.js"></script>
<script>
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('/mobile/sw.js').then(function() { console.log('SW registered'); });
}
window.addEventListener('online', function() { document.getElementById('offlineBanner').style.display = 'none'; });
window.addEventListener('offline', function() { document.getElementById('offlineBanner').style.display = 'block'; });
Router.init();
</script>
</body>
</html>
